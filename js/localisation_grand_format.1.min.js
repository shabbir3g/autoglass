var map=null;var geocoder=null;var directionsDisplay;var marker=null;function showLatlng(f,c,d){var h=new google.maps.LatLng(f,c);var a={zoom:d,center:h,disableDefaultUI:true,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,panControl:true,zoomControl:true,scaleControl:true,streetViewControl:true};map=new google.maps.Map(document.getElementById("map_canvas"),a);if(window.location.pathname.indexOf("y-aller")>=0){var e=new google.maps.MarkerImage("/images/refonte/point-b.png",new google.maps.Size(28,49),new google.maps.Point(0,0),new google.maps.Point(13,40));var g=new google.maps.MarkerImage(new google.maps.Size(56,22),new google.maps.Point(0,0),new google.maps.Point(21,22))}else{var e=new google.maps.MarkerImage("/images/marker/image.png",new google.maps.Size(42,22),new google.maps.Point(0,0),new google.maps.Point(21,22));var g=new google.maps.MarkerImage("/images/marker/shadow.png",new google.maps.Size(56,22),new google.maps.Point(0,0),new google.maps.Point(21,22))}var b={coord:[41,0,41,1,41,2,41,3,40,4,39,5,38,6,37,7,36,8,35,9,34,10,33,11,32,12,31,13,30,14,29,15,28,16,27,17,26,18,25,19,24,20,24,21,18,21,17,20,16,19,15,18,14,17,13,16,12,15,11,14,10,13,9,12,8,11,7,10,6,9,5,8,4,7,3,6,2,5,1,4,0,3,0,2,0,1,0,0,41,0],type:"poly"};marker=new google.maps.Marker({draggable:false,raiseOnDrag:false,icon:e,shadow:g,shape:b,map:map,position:h});geocoder=new google.maps.Geocoder();geocoder.geocode({latLng:h},function(j,i){if(i==google.maps.GeocoderStatus.OK){if(j[0]){map.fitBounds(j[0].geometry.viewport)}}})}function showEntites(d){var g=null;var b=new google.maps.LatLngBounds();var m={zoom:11,center:new google.maps.LatLng(0,0),disableDefaultUI:true,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,panControl:true,zoomControl:true,scaleControl:true,streetViewControl:true};map=new google.maps.Map(document.getElementById("map_canvas"),m);var f=new google.maps.MarkerImage("/images/marker/garage_ad_picto.png",new google.maps.Size(52,52),new google.maps.Point(0,0),new google.maps.Point(21,22));var k={coord:[41,0,41,1,41,2,41,3,40,4,39,5,38,6,37,7,36,8,35,9,34,10,33,11,32,12,31,13,30,14,29,15,28,16,27,17,26,18,25,19,24,20,24,21,18,21,17,20,16,19,15,18,14,17,13,16,12,15,11,14,10,13,9,12,8,11,7,10,6,9,5,8,4,7,3,6,2,5,1,4,0,3,0,2,0,1,0,0,41,0],type:"poly"};g=new google.maps.InfoWindow({content:"holding...",maxWidth:300});for(var j=0;j<d.length;j++){var e=d[j];var c=new google.maps.LatLng(e[1],e[2]);var a=6;var l=20;if(j<9){var a=3}var h=new MarkerWithLabel({draggable:false,raiseOnDrag:false,icon:f,position:c,map:map,shape:k,labelContent:(j+1).toString(),labelAnchor:new google.maps.Point(a,l),labelStyle:{color:"#fff","font-size":"15px"},title:e[0],html:'<div class="coordinated" style="border: none;min-height: 150px;width:300px;padding: 0;"><div><ul><li class="sprite-icon-adress" style="width:280px"><dl style="width:250px"><dt><strong>'+((e[6]!=""&&e[9])?'<a href="'+e[6]+'" target="_blank">'+e[0]+"</a>":e[0])+"</br>"+e[7]+"</strong></dt><dd>"+e[3]+'</dd></dl></li><li class="sprite-icon-tel" style="width:280px"><dl style="width:250px"><dt><strong>Téléphone </strong></dt><dd>'+e[4]+'</dd></dl></li></ul><ul class="right-column"><li class="sprite-icon-email" style="width:280px;padding-bottom: 0"><a href="'+((e[6]!=""&&e[9]&&!e[11])?e[6]+"contact":e[8]+"?garage="+e[10])+'" '+((e[6]!=""&&e[9])?' target="_blank"':"")+' title="Nous contacter"><dl style="width:250px"><dt><strong>Email</strong></dt><dd>'+e[5]+"</dd></dl></a></li></ul></div></div> </div>"});google.maps.event.addListener(h,"click",function(){g.setContent(this.html);g.open(map,this)});b.extend(c)}if(d.length>1){map.setCenter(b.getCenter());map.fitBounds(b)}else{if(d.length==1){map.setCenter(b.getCenter());map.setZoom(16)}}}function showFrance(){showAddress("France",function(){if(jQuery.trim(jQuery("#lat").val())!=""&&jQuery.trim(jQuery("#long").val())!=""){var a=new google.maps.LatLngBounds();lat=jQuery.trim(jQuery("#lat").val());lng=jQuery.trim(jQuery("#long").val());a.extend(distinationByDistanceAndBearing(lat,lng,450,-45));a.extend(distinationByDistanceAndBearing(lat,lng,450,135));map.fitBounds(a)}})}function showAddress(a,b){geocoder=new google.maps.Geocoder();geocoder.geocode({address:a},function(f,d){if(d==google.maps.GeocoderStatus.OK){var g=new google.maps.MarkerImage("/images/marker/image.png",new google.maps.Size(42,22),new google.maps.Point(0,0),new google.maps.Point(21,22));var i=new google.maps.MarkerImage("/images/marker/shadow.png",new google.maps.Size(56,22),new google.maps.Point(0,0),new google.maps.Point(21,22));var e={coord:[41,0,41,1,41,2,41,3,40,4,39,5,38,6,37,7,36,8,35,9,34,10,33,11,32,12,31,13,30,14,29,15,28,16,27,17,26,18,25,19,24,20,24,21,18,21,17,20,16,19,15,18,14,17,13,16,12,15,11,14,10,13,9,12,8,11,7,10,6,9,5,8,4,7,3,6,2,5,1,4,0,3,0,2,0,1,0,0,41,0],type:"poly"};var h=f[0].geometry.location;var c={zoom:11,center:h,disableDefaultUI:true,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,panControl:true,zoomControl:true,scaleControl:true,streetViewControl:true};map=new google.maps.Map(document.getElementById("map_canvas"),c);map.fitBounds(f[0].geometry.viewport);if(a!="France"){marker=new google.maps.Marker({draggable:false,raiseOnDrag:false,icon:g,shadow:i,shape:e,map:map,position:f[0].geometry.location})}else{if(typeof(b)!="undefined"){b()}}}else{jQuery(".img_map").hide()}})}function showItineraire(c,b){var d=new google.maps.DirectionsService();directionsDisplay=new google.maps.DirectionsRenderer();directionsDisplay.setMap(map);directionsDisplay.setPanel(document.getElementById("displayinfo_canvas"));var f;var a=$("#latitude_div").html();var e=$("#longitude_div").html();if(a!=null&&e!=null){f=new google.maps.LatLng(a,e)}else{f=b}d.route({origin:c,destination:f,unitSystem:google.maps.DirectionsUnitSystem.METRIC,travelMode:google.maps.DirectionsTravelMode.DRIVING},function(g,h){if(h==google.maps.DirectionsStatus.OK){directionsDisplay.suppressMarkers=true;var j=new google.maps.MarkerImage("/images/refonte/point-a.png");var i=new google.maps.Marker({map:map,icon:j,position:g.routes[0].legs[0].start_location});directionsDisplay.setOptions({markerOptions:{visible:false}});marker.setPosition(g.routes[0].legs[0].end_location);directionsDisplay.setDirections(g);jQuery("#displayinfo_title").show();jQuery("#displayinfo_canvas").show();jQuery(".adress_garage").show()}else{jQuery("#displayinfo_title").hide();jQuery("#displayinfo_canvas").hide();jQuery(".adress_garage").hide();$("#popup2").slideDown();$("#popup_block").css("display","block");$("#popup2 .icon_close").click(function(k){k.preventDefault();$("#popup2").css("display","none");$("#popup_block").css("display","none")})}})}function getLatLongAndSubmit(c,f){var e=jQuery(".pac-item span:last").text();if(jQuery.trim(e)!=""&&$.isNumeric(c)&&$.inArray(c,["971","97100","972","973","974","976"])==0){c=c+" "+e}if(jQuery.trim(c)==""){return}var b="";if(jQuery("#ville-place_id").val()){b=jQuery("#ville-place_id").val()}geocoder=new google.maps.Geocoder();if($.isNumeric(c)&&c.length!=2&&c.length!=5&&$.inArray(c,["971","972","973","974","976"])==-1){return}if($.inArray(c,["2A","2B"])>=0){c="20000"}if(c.length==2){c=c+"000"}if($.inArray(c,["971","972","973","974","976"])>=0){c=c+"00"}if(b!=""&&c.indexOf("91450")==-1){Request_gmap={placeId:b}}else{Request_gmap={address:c,region:"FR"}}var a=false;var d=false;if(jQuery.isNumeric(c)){if(parseInt(c)>=97100&&parseInt(c)<=97140){c="Guadeloupe";a=true}if(parseInt(c)>=97400&&parseInt(c)<=97430){c="Réunion";a=true}if(parseInt(c)>=97200&&parseInt(c)<=97240){c="Martinique";a=true}if(parseInt(c)>=97300&&parseInt(c)<=97370){c="Guyane";a=true}if(parseInt(c)>=97600&&parseInt(c)<=97620){c="Mayotte";a=true}if(parseInt(c)==97500){c="SAINT PIERRE 97500 Saint-Pierre-et-Miquelon";a=true}if(parseInt(c)==97700){c="Saint-Barthélemy";a=true}if(parseInt(c)==97800){c="Saint-Martin";a=true}if(parseInt(c)==98600){c="Wallis-et-Futuna";a=true}if(parseInt(c)==98700){c="Polynésie française";a=true}if(parseInt(c)==44500){c="la Baule";a=true}if(parseInt(c)==69000){c="Lyon "+c;d=true}if(parseInt(c)==13000){c="Marseille "+c;d=true}if(parseInt(c)==85190){c="Aizeney "+c;d=true}if(parseInt(c)==44000){c="Nantes "+c;d=true}if(parseInt(c)==42300){c="roanne "+c;d=true}if(parseInt(c)==44190){c="Clisson";d=true}if(!a){if(d){if(b!=""){Request_gmap={placeId:b}}else{Request_gmap={address:c,region:"FR",componentRestrictions:{country:"FR"}}}}else{if(b!=""){Request_gmap={placeId:b}}else{Request_gmap={componentRestrictions:{country:"FR",postalCode:c}}}}}else{Request_gmap={address:c,region:"FR"}}}geocoder.geocode(Request_gmap,function(h,g){if(g==google.maps.GeocoderStatus.OK){var i=h[0].geometry.location;jQuery("#lat").val(i.lat());jQuery("#long").val(i.lng());if(f){jQuery("#recherche_garages").submit()}return}})}function gmap_draw(){geocoder=new google.maps.Geocoder();address=jQuery("#search2").val();if($.isNumeric(address)&&jQuery.trim(address)!=""&&address.length!=2&&address.length!=5&&$.inArray(address,["971","972","973","974","976"])==-1){jQuery("#msg_erreur").text("Ville ou CP erroné");$("#popup3").slideDown();$("#popup_block").css("display","block");$("#popup3 .icon_close").click(function(c){c.preventDefault();$("#popup3").css("display","none");$("#popup_block").css("display","none")});return}if($.inArray(address,["2A","2B"])>=0){address="20000"}if(address.length==2){address=address+"000"}if($.inArray(address,["971","972","973","974","976"])>=0){address=address+"00"}Request_gmap={address:address,region:"FR"};var a=false;var b=false;if(jQuery.isNumeric(address)){if(parseInt(address)>=97100&&parseInt(address)<=97140){address="Guadeloupe";a=true}if(parseInt(address)>=97400&&parseInt(address)<=97430){address="Réunion";a=true}if(parseInt(address)>=97200&&parseInt(address)<=97240){address="Martinique";a=true}if(parseInt(address)>=97300&&parseInt(address)<=97370){address="Guyane";a=true}if(parseInt(address)>=97600&&parseInt(address)<=97620){address="Mayotte";a=true}if(parseInt(address)==97500){address="SAINT PIERRE 97500 Saint-Pierre-et-Miquelon";a=true}if(parseInt(address)==97700){address="Saint-Barthélemy";a=true}if(parseInt(address)==97800){address="Saint-Martin";a=true}if(parseInt(address)==98600){address="Wallis-et-Futuna";a=true}if(parseInt(address)==98700){address="Polynésie française";a=true}if(parseInt(address)==44500){address="la Baule";a=true}if(parseInt(address)==69000){address="Lyon "+address;b=true}if(parseInt(address)==13000){address="Marseille "+address;b=true}if(parseInt(address)==85190){address="Aizeney "+address;b=true}if(parseInt(address)==44000){address="Nantes "+address;b=true}if(parseInt(address)==42300){address="roanne "+address;b=true}if(parseInt(address)==44190){address="Clisson";b=true}if(!a){if(b){Request_gmap={address:address,region:"FR",componentRestrictions:{country:"FR"}}}else{Request_gmap={componentRestrictions:{country:"FR",postalCode:address}}}}else{Request_gmap={address:address,region:"FR"}}}geocoder.geocode(Request_gmap,function(d,c){if(c==google.maps.GeocoderStatus.OK){var e=d[0].geometry.location;jQuery("#lat-search").val(e.lat());jQuery("#long-search").val(e.lng())}jQuery("#find-garage").submit();return})}function getLatLongAndSubmit2(){var a=document.createElement("script");a.type="text/javascript";a.src="http://maps.google.com/maps/api/js?v=3.12&sensor=false&language=fr&.js&callback=gmap_draw";$("head").append(a)}function applyStyle(){jQuery("#content #displayinfo_canvas > div > div:first-child + div + div > *:first-child + div tr:last-child > td:first-child + td > div").addClass("votre_destination");jQuery("#content #displayinfo_canvas > div > div:first-child + div + div > div:last-child").addClass("garage");jQuery("#content #displayinfo_canvas > div > div:first-child + div + div > *:first-child + div tr td:last-child").addClass("distances")}function distinationByDistanceAndBearing(m,n,c,o){var l=parseInt(c,10)/6371;var g=parseFloat(m)*Math.PI/180;var j=parseFloat(n)*Math.PI/180;var h=parseInt(o,10)*Math.PI/180;var k=l*Math.cos(h);var f=g+k;var i=Math.log(Math.tan(f/2+Math.PI/4)/Math.tan(g/2+Math.PI/4));var b=(!isNaN(k/i))?k/i:Math.cos(g);var a=l*Math.sin(h)/b;if(Math.abs(f)>Math.PI/2){f=f>0?Math.PI-f:-(Math.PI-f)}lon2=(j+a+3*Math.PI)%(2*Math.PI)-Math.PI;var e=new google.maps.LatLng(f*180/Math.PI,lon2*180/Math.PI);return e}function getLatLong(a){geocoder=new google.maps.Geocoder();a=a+" France";geocoder.geocode({address:a},function(c,b){if(b==google.maps.GeocoderStatus.OK){var d=c[0].geometry.location;jQuery("#cpLatitude").val(d.lat());jQuery("#cpLongitude").val(d.lng());jQuery("#latLongSearch").submit();return}})};
jQuery(document).ready(function(){$(".btn_map[href='#popup']").click(function(a){a.preventDefault();$("#popup").slideDown();$("#popup_block").css("display","block")});$("#popup .icon_close").click(function(a){a.preventDefault();$("#popup").css("display","none");$("#popup_block").css("display","none")})});
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=/MSIE/.test(navigator.userAgent);var f=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(x,u,v,s){var t=j('<div class="growlUI"></div>');if(x){t.append("<h1>"+x+"</h1>")}if(u){t.append("<h2>"+u+"</h2>")}if(v===undefined){v=3000}var r=function(y){y=y||{};j.blockUI({message:t,fadeIn:typeof y.fadeIn!=="undefined"?y.fadeIn:700,fadeOut:typeof y.fadeOut!=="undefined"?y.fadeOut:1000,timeout:typeof y.timeout!=="undefined"?y.timeout:v,centerY:false,showOverlay:false,onUnblock:s,css:j.blockUI.defaults.growlCSS})};r();var w=t.css("opacity");t.mouseover(function(){r({fadeIn:0,timeout:30000});var y=j(".blockMsg");y.stop();y.fadeTo(300,1)}).mouseout(function(){j(".blockMsg").fadeOut(1000)})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var t=j(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked")){return}t.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.7;j.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"></iframe>')}else{O=j('<div class="blockUI" style="display:none"></div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"></div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"</div>"}I+='<div class="ui-widget-content ui-dialog-content"></div>';I+="</div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"</div>"}I+='<div class="ui-widget-content ui-dialog-content"></div>';I+="</div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"></div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"></div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(t,U){var z=U[0].style;z.position="absolute";if(t<2){if(C){z.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{z.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){z.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{z.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){z.setExpression("left",F)}if(A){z.setExpression("top",A)}}else{if(H.centerY){if(C){z.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}z.marginTop=0}else{if(!H.centerY&&C){var S=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';z.setExpression("top",T)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock.bind(M)()}}m(1,v,H);if(C){c=M[0];h=j(H.focusableElements,c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(u,w){var v;var t=(u==window);var s=j(u);var x=s.data("blockUI.history");var y=s.data("blockUI.timeout");if(y){clearTimeout(y);s.removeData("blockUI.timeout")}w=j.extend({},j.blockUI.defaults,w||{});m(0,u,w);if(w.onUnblock===null){w.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(t){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(w.cursorReset){if(r.length>1){r[1].style.cursor=w.cursorReset}if(r.length>2){r[2].style.cursor=w.cursorReset}}if(t){c=h=null}if(w.fadeOut){v=r.length;r.stop().fadeOut(w.fadeOut,function(){if(--v===0){l(r,x,w,u)}})}else{l(r,x,w,u)}}function l(v,z,y,x){var u=j(x);if(u.data("blockUI.isBlocked")){return}v.each(function(w,A){if(this.parentNode){this.parentNode.removeChild(this)}});if(z&&z.el){z.el.style.display=z.display;z.el.style.position=z.position;z.el.style.cursor="default";if(z.parent){z.parent.appendChild(z.el)}u.removeData("blockUI.history")}if(u.data("blockUI.static")){u.css("position","static")}if(typeof y.onUnblock=="function"){y.onUnblock(x,y)}var r=j(document.body),t=r.width(),s=r[0].style.width;r.width(t-1).width(t);r[0].style.width=s}function m(r,v,w){var u=v==window,t=j(v);if(!r&&(u&&!c||!u&&!t.data("blockUI.isBlocked"))){return}t.data("blockUI.isBlocked",r);if(!u||!w.bindEvents||(r&&!w.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,w,p)}else{j(document).unbind(s,p)}}function p(w){if(w.type==="keydown"&&w.keyCode&&w.keyCode==9){if(c&&w.data.constrainTabKey){var t=h;var s=!w.shiftKey&&w.target===t[t.length-1];var r=w.shiftKey&&w.target===t[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var u=w.data;var v=j(w.target);if(v.hasClass("blockOverlay")&&u.onOverlayClick){u.onOverlayClick(w)}if(v.parents("div."+u.blockMsgClass).length>0){return true}return v.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();
$(document).ready(function(){if(typeof itineraire_fonction!="undefined"){if(itineraire_fonction=="showLatlng"){showLatlng(entite_latitude,entite_longitude,15);$("div[hidden=true]").hide()}else{if(itineraire_fonction=="showAddress"){showAddress(itineraire_adresse)}}}if(typeof depart_value!="undefined"){if(depart_value){if(jQuery.isNumeric(zip)){if(parseInt(zip)>97100&&parseInt(zip)<97140){adresse_depart=adresse_depart+" Guadeloupe"}else{if(parseInt(zip)>97400&&parseInt(zip)<97430){adresse_depart=adresse_depart+" Réunion"}else{if(parseInt(zip)>97200&&parseInt(zip)<97240){adresse_depart=adresse_depart+" Martinique"}else{if(parseInt(zip)>97300&&parseInt(zip)<97370){adresse_depart=adresse_depart+" Guyane"}else{if(parseInt(zip)>97600&&parseInt(zip)<97620){adresse_depart=adresse_depart+" Mayotte"}else{adresse_depart=adresse_depart+" France"}}}}}}showItineraire(adresse_depart,adresse_arrive)}}if(typeof var_show_garages!="undefined"){if(var_show_garages=="showFrance"){showFrance()}else{if(var_show_garages=="showEntites"){showEntites(entities)}}}$("#region_garage").change(function(){var a=$("#departement_garage");a.empty();var b=$("#ville_garage");b.empty();$.ajax({url:urlGetDepartementsAjax,type:"POST",data:{region:$(this).val()},dataType:"JSON",success:function(c){a.append('<option value="">Département</option>');b.append('<option value="">Ville</option>');$.each(c,function(d,e){a.append('<option value="'+d+'">'+e+"</option>")})},})});jQuery("#ville_garage").change(function(){jQuery("#lat").val("");jQuery("#long").val("");getLatLongAndSubmit(jQuery.trim(jQuery("#ville_garage option:selected").text()),true)});$(".page_filtre").click(function(){$("#page").val($(this).text());$("#recherche_garages").submit();return false});$("#departement_garage").change(function(){var a=$("#ville_garage");a.empty();$.ajax({url:urlGetVillesAjax,type:"POST",data:{departement:$(this).val()},dataType:"JSON",success:function(b){a.append('<option value="">Ville</option>');$.each(b,function(c,d){a.append('<option value="'+c+'">'+d+"</option>")})},})})});
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function inherits(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c();b.prototype.constructor=b}function MarkerLabel_(a,b,c){this.marker_=a;this.handCursorURL_=a.handCursorURL;this.labelDiv_=document.createElement("div");this.labelDiv_.style.cssText="position: absolute; overflow: hidden;";this.crossDiv_=MarkerLabel_.getSharedCross(b)}inherits(MarkerLabel_,google.maps.OverlayView);MarkerLabel_.getSharedCross=function(a){var b;if(typeof MarkerLabel_.getSharedCross.crossDiv==="undefined"){b=document.createElement("img");b.style.cssText="position: absolute; z-index: 1000002; display: none;";b.style.marginLeft="-8px";b.style.marginTop="-9px";b.src=a;MarkerLabel_.getSharedCross.crossDiv=b}return MarkerLabel_.getSharedCross.crossDiv};MarkerLabel_.prototype.onAdd=function(){var k=this;var e=false;var n=false;var l;var h,c;var a;var m;var j;var b;var d=20;var i="url("+this.handCursorURL_+")";var g=function(o){if(o.preventDefault){o.preventDefault()}o.cancelBubble=true;if(o.stopPropagation){o.stopPropagation()}};var f=function(){k.marker_.setAnimation(null)};this.getPanes().markerLayer.appendChild(this.labelDiv_);if(typeof MarkerLabel_.getSharedCross.processed==="undefined"){this.getPanes().markerLayer.appendChild(this.crossDiv_);MarkerLabel_.getSharedCross.processed=true}this.listeners_=[google.maps.event.addDomListener(this.labelDiv_,"mouseover",function(o){if(k.marker_.getDraggable()||k.marker_.getClickable()){this.style.cursor="pointer";google.maps.event.trigger(k.marker_,"mouseover",o)}}),google.maps.event.addDomListener(this.labelDiv_,"mouseout",function(o){if((k.marker_.getDraggable()||k.marker_.getClickable())&&!n){this.style.cursor=k.marker_.getCursor();google.maps.event.trigger(k.marker_,"mouseout",o)}}),google.maps.event.addDomListener(this.labelDiv_,"mousedown",function(o){n=false;if(k.marker_.getDraggable()){e=true;this.style.cursor=i}if(k.marker_.getDraggable()||k.marker_.getClickable()){google.maps.event.trigger(k.marker_,"mousedown",o);g(o)}}),google.maps.event.addDomListener(document,"mouseup",function(p){var o;if(e){e=false;k.eventDiv_.style.cursor="pointer";google.maps.event.trigger(k.marker_,"mouseup",p)}if(n){if(m){o=k.getProjection().fromLatLngToDivPixel(k.marker_.getPosition());o.y+=d;k.marker_.setPosition(k.getProjection().fromDivPixelToLatLng(o));try{k.marker_.setAnimation(google.maps.Animation.BOUNCE);setTimeout(f,1406)}catch(q){}}k.crossDiv_.style.display="none";k.marker_.setZIndex(l);a=true;n=false;p.latLng=k.marker_.getPosition();google.maps.event.trigger(k.marker_,"dragend",p)}}),google.maps.event.addListener(k.marker_.getMap(),"mousemove",function(p){var o;if(e){if(n){p.latLng=new google.maps.LatLng(p.latLng.lat()-h,p.latLng.lng()-c);o=k.getProjection().fromLatLngToDivPixel(p.latLng);if(m){k.crossDiv_.style.left=o.x+"px";k.crossDiv_.style.top=o.y+"px";k.crossDiv_.style.display="";o.y-=d}k.marker_.setPosition(k.getProjection().fromDivPixelToLatLng(o));if(m){k.eventDiv_.style.top=(o.y+d)+"px"}google.maps.event.trigger(k.marker_,"drag",p)}else{h=p.latLng.lat()-k.marker_.getPosition().lat();c=p.latLng.lng()-k.marker_.getPosition().lng();l=k.marker_.getZIndex();j=k.marker_.getPosition();b=k.marker_.getMap().getCenter();m=k.marker_.get("raiseOnDrag");n=true;k.marker_.setZIndex(1000000);p.latLng=k.marker_.getPosition();google.maps.event.trigger(k.marker_,"dragstart",p)}}}),google.maps.event.addDomListener(document,"keydown",function(o){if(n){if(o.keyCode===27){m=false;k.marker_.setPosition(j);k.marker_.getMap().setCenter(b);google.maps.event.trigger(document,"mouseup",o)}}}),google.maps.event.addDomListener(this.labelDiv_,"click",function(o){if(k.marker_.getDraggable()||k.marker_.getClickable()){if(a){a=false}else{google.maps.event.trigger(k.marker_,"click",o);g(o)}}}),google.maps.event.addDomListener(this.labelDiv_,"dblclick",function(o){if(k.marker_.getDraggable()||k.marker_.getClickable()){google.maps.event.trigger(k.marker_,"dblclick",o);g(o)}}),google.maps.event.addListener(this.marker_,"dragstart",function(o){if(!n){m=this.get("raiseOnDrag")}}),google.maps.event.addListener(this.marker_,"drag",function(o){if(!n){if(m){k.setPosition(d);k.labelDiv_.style.zIndex=1000000+(this.get("labelInBackground")?-1:+1)}}}),google.maps.event.addListener(this.marker_,"dragend",function(o){if(!n){if(m){k.setPosition(0)}}}),google.maps.event.addListener(this.marker_,"position_changed",function(){k.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){k.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){k.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){k.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){k.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){k.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){k.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){k.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){k.setStyles()})]};MarkerLabel_.prototype.onRemove=function(){var a;this.labelDiv_.parentNode.removeChild(this.labelDiv_);for(a=0;a<this.listeners_.length;a++){google.maps.event.removeListener(this.listeners_[a])}};MarkerLabel_.prototype.draw=function(){this.setContent();this.setTitle();this.setStyles()};MarkerLabel_.prototype.setContent=function(){var a=this.marker_.get("labelContent");if(typeof a.nodeType==="undefined"){this.labelDiv_.innerHTML=a}else{this.labelDiv_.innerHTML="";this.labelDiv_.appendChild(a)}};MarkerLabel_.prototype.setTitle=function(){this.labelDiv_.title=this.marker_.getTitle()||""};MarkerLabel_.prototype.setStyles=function(){var b,a;this.labelDiv_.className=this.marker_.get("labelClass");this.labelDiv_.style.cssText="";a=this.marker_.get("labelStyle");for(b in a){if(a.hasOwnProperty(b)){this.labelDiv_.style[b]=a[b]}}this.setMandatoryStyles()};MarkerLabel_.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute";this.labelDiv_.style.overflow="hidden";if(typeof this.labelDiv_.style.opacity!=="undefined"&&this.labelDiv_.style.opacity!==""){this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+(this.labelDiv_.style.opacity*100)+')"';this.labelDiv_.style.filter="alpha(opacity="+(this.labelDiv_.style.opacity*100)+")"}this.setAnchor();this.setPosition();this.setVisible()};MarkerLabel_.prototype.setAnchor=function(){var a=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-a.x+"px";this.labelDiv_.style.marginTop=-a.y+"px"};MarkerLabel_.prototype.setPosition=function(b){var a=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());if(typeof b==="undefined"){b=0}this.labelDiv_.style.left=Math.round(a.x)+"px";this.labelDiv_.style.top=Math.round(a.y-b)+"px";this.setZIndex()};MarkerLabel_.prototype.setZIndex=function(){var a=(this.marker_.get("labelInBackground")?-1:+1);if(typeof this.marker_.getZIndex()==="undefined"){this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+a}else{this.labelDiv_.style.zIndex=this.marker_.getZIndex()+a}};MarkerLabel_.prototype.setVisible=function(){if(this.marker_.get("labelVisible")){this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none"}else{this.labelDiv_.style.display="none"}};function MarkerWithLabel(a){a=a||{};a.labelContent=a.labelContent||"";a.labelAnchor=a.labelAnchor||new google.maps.Point(0,0);a.labelClass=a.labelClass||"markerLabels";a.labelStyle=a.labelStyle||{};a.labelInBackground=a.labelInBackground||false;if(typeof a.labelVisible==="undefined"){a.labelVisible=true}if(typeof a.raiseOnDrag==="undefined"){a.raiseOnDrag=true}if(typeof a.clickable==="undefined"){a.clickable=true}if(typeof a.draggable==="undefined"){a.draggable=false}if(typeof a.optimized==="undefined"){a.optimized=false}a.crossImage=a.crossImage||"http"+(document.location.protocol==="https:"?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png";a.handCursor=a.handCursor||"http"+(document.location.protocol==="https:"?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur";a.optimized=false;this.label=new MarkerLabel_(this,a.crossImage,a.handCursor);google.maps.Marker.apply(this,arguments)}inherits(MarkerWithLabel,google.maps.Marker);MarkerWithLabel.prototype.setMap=function(a){google.maps.Marker.prototype.setMap.apply(this,arguments);this.label.setMap(a)};